'use strict';

const compression = require('compression');
const contentType = require('../utils/content-type');

module.exports = function(conf) {
  let opt = {};
  conf = conf || {};
  opt.threshold = conf.minSize;

  opt.filter = contentType.isResponseContentCompressible;

  return compression(opt);
};